"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[177],{3905:(e,n,o)=>{o.d(n,{Zo:()=>d,kt:()=>k});var t=o(7294);function r(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function a(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function i(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?a(Object(o),!0).forEach((function(n){r(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function s(e,n){if(null==e)return{};var o,t,r=function(e,n){if(null==e)return{};var o,t,r={},a=Object.keys(e);for(t=0;t<a.length;t++)o=a[t],n.indexOf(o)>=0||(r[o]=e[o]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)o=a[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=t.createContext({}),u=function(e){var n=t.useContext(l),o=n;return e&&(o="function"==typeof e?e(n):i(i({},n),e)),o},d=function(e){var n=u(e.components);return t.createElement(l.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var o=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=u(o),m=r,k=c["".concat(l,".").concat(m)]||c[m]||p[m]||a;return o?t.createElement(k,i(i({ref:n},d),{},{components:o})):t.createElement(k,i({ref:n},d))}));function k(e,n){var o=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[c]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<a;u++)i[u]=o[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,o)}m.displayName="MDXCreateElement"},50:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var t=o(7462),r=(o(7294),o(3905));const a={sidebar_position:5},i="Troubleshooting Common Issues With Validator Nodes",s={unversionedId:"becoming-a-validator/troubleshooting",id:"becoming-a-validator/troubleshooting",title:"Troubleshooting Common Issues With Validator Nodes",description:"Here we walk through several common issues that you might encounter when you are running a validator node.",source:"@site/docs/becoming-a-validator/troubleshooting.md",sourceDirName:"becoming-a-validator",slug:"/becoming-a-validator/troubleshooting",permalink:"/docs/becoming-a-validator/troubleshooting",draft:!1,tags:[],version:"current",lastUpdatedAt:1679497254,formattedLastUpdatedAt:"22 Mar 2023",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Running a Validator Node",permalink:"/docs/becoming-a-validator/running-a-validator"}},l={},u=[{value:"&quot;bonus-blockd: command not found&quot; error",id:"bonus-blockd-command-not-found-error",level:2},{value:"Make sure your <code>GOPATH</code> is properly set",id:"make-sure-your-gopath-is-properly-set",level:3},{value:"Cleaning up",id:"cleaning-up",level:2},{value:"Unjail the Validator",id:"unjail-the-validator",level:2},{value:"Too many files open and <code>bonus-blockd</code> crashes",id:"too-many-files-open-and-bonus-blockd-crashes",level:2},{value:"Additional Considerations:",id:"additional-considerations",level:2},{value:"Connection errors",id:"connection-errors",level:3},{value:"Memory errors",id:"memory-errors",level:3},{value:"Disk space errors",id:"disk-space-errors",level:3}],d={toc:u},c="wrapper";function p(e){let{components:n,...o}=e;return(0,r.kt)(c,(0,t.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"troubleshooting-common-issues-with-validator-nodes"},"Troubleshooting Common Issues With Validator Nodes"),(0,r.kt)("p",null,"Here we walk through several common issues that you might encounter when you are running a validator node."),(0,r.kt)("h2",{id:"bonus-blockd-command-not-found-error"},'"bonus-blockd: command not found" error'),(0,r.kt)("p",null,"If you receive an  ",(0,r.kt)("inlineCode",{parentName:"p"},"bonus-blockd: command not found")," Error message, you should:"),(0,r.kt)("h3",{id:"make-sure-your-gopath-is-properly-set"},"Make sure your ",(0,r.kt)("inlineCode",{parentName:"h3"},"GOPATH")," is properly set"),(0,r.kt)("p",null,"Ensure the Go environment variables are ",(0,r.kt)("a",{className:"external",href:"https://golang.org/doc/gopath_code#GOPATH",target:"_blank"},"set properly")," on your system."),(0,r.kt)("p",null,"A way to set up the ",(0,r.kt)("inlineCode",{parentName:"p"},"GOPATH")," is by running the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cd $HOME\necho "export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin" >> ~/.bashrc\nsource ~/.bashrc\n')),(0,r.kt)("h2",{id:"cleaning-up"},"Cleaning up"),(0,r.kt)("p",null,"If you already tried setting up a node and need a cleanup, it may be good to remove any previous genesis file and configuration that you have used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd $HOME\nrm -rf .bonusblock/\nrm -rf BonusBlock-chain/\nrm go/bin/bonus-blockd\n")),(0,r.kt)("strong",null,"This command will remove all data and configs you already set."),(0,r.kt)("h2",{id:"unjail-the-validator"},"Unjail the Validator"),(0,r.kt)("p",null,"Wait for your full node to reach the latest block, and run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bonus-blockd tx slashing unjail [validator-address] --chain-id=[cain-id] --from=[name]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[ValidatorAddress]")," is the address of your validator account.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[chain-id]")," is the chain id of a network where the validator is running.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[Name]")," is the name or address of the validator account. To find this information, run ",(0,r.kt)("inlineCode",{parentName:"p"},"bonus-blockd keys list"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Warning"),":\nIf you don't wait for ",(0,r.kt)("strong",{parentName:"p"},"bonus-blockd")," to sync before running ",(0,r.kt)("strong",{parentName:"p"},"unjail"),", an error message will inform you that your validator is still jailed."))),(0,r.kt)("p",null,"You can check your validator again to see if your voting power is back:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bonus-blockd status\n")),(0,r.kt)("p",null,"If your voting power is less than it was previously is probably due to the fact you were slashed for downtime."),(0,r.kt)("h2",{id:"too-many-files-open-and-bonus-blockd-crashes"},"Too many files open and ",(0,r.kt)("inlineCode",{parentName:"h2"},"bonus-blockd")," crashes"),(0,r.kt)("p",null,"The default number of files Linux can open per process is ",(0,r.kt)("inlineCode",{parentName:"p"},"1024"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"bonus-blockd")," may open more than this amount, causing the process to crash. To fix this problem increase the number of open files by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo ulimit -n 4096\n")),(0,r.kt)("p",null,"And restart the process by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bonus-blockd start\n")),(0,r.kt)("p",null,"To make ulimit setting permanent and persistent across reboots, update your ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/sysctl.conf"),"."),(0,r.kt)("h2",{id:"additional-considerations"},"Additional Considerations:"),(0,r.kt)("h3",{id:"connection-errors"},"Connection errors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Check your network settings: Make sure that your node's network settings are properly configured to communicate with other nodes on the network. Check your firewall settings and ensure that they are not blocking incoming or outgoing connections."),(0,r.kt)("li",{parentName:"ul"},"Restart your node: Try restarting your node to see if that resolves the connection issue. Sometimes a simple restart can help fix communication problems.")),(0,r.kt)("h3",{id:"memory-errors"},"Memory errors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Make sure that your node's memory settings are properly configured for your node's resources and capabilities.")),(0,r.kt)("h3",{id:"disk-space-errors"},"Disk space errors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Make sure that your node's disk space settings are properly configured for your node's resources and capabilities."),(0,r.kt)("li",{parentName:"ul"},"If your node is running out of disk space, consider pruning old blocks or transactions to free up space.")))}p.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[893],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(n),m=i,f=u["".concat(s,".").concat(m)]||u[m]||p[m]||a;return n?o.createElement(f,r(r({ref:t},c),{},{components:n})):o.createElement(f,r({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var d=2;d<a;d++)r[d]=n[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3851:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=n(7462),i=(n(7294),n(3905));const a={sidebar_position:4},r="Node Configuration",l={unversionedId:"running-a-node/node-configuration",id:"running-a-node/node-configuration",title:"Node Configuration",description:"By default, the init command creates your ~/.bonusblock directory with subfolders config and data. In the config directory, the most important files for configuration are app.toml and config.toml. You can configure your node via editing these files.",source:"@site/docs/running-a-node/node-configuration.md",sourceDirName:"running-a-node",slug:"/running-a-node/node-configuration",permalink:"/docs/running-a-node/node-configuration",draft:!1,tags:[],version:"current",lastUpdatedAt:1679494811,formattedLastUpdatedAt:"22 Mar 2023",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Prepare the Account and Keys",permalink:"/docs/running-a-node/set-up-keys"},next:{title:"Join a Network",permalink:"/docs/running-a-node/join-a-network"}},s={},d=[{value:"Main configuration in config.toml",id:"main-configuration-in-configtoml",level:2},{value:"Cosmos SDK configuration via app.toml",id:"cosmos-sdk-configuration-via-apptoml",level:2}],c={toc:d},u="wrapper";function p(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"node-configuration"},"Node Configuration"),(0,i.kt)("p",null,"By default, the init command creates your ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.bonusblock")," directory with subfolders config and data. In the config directory, the most important files for configuration are ",(0,i.kt)("inlineCode",{parentName:"p"},"app.toml")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml"),". You can configure your node via editing these files.",(0,i.kt)("br",null)),(0,i.kt)("p",null,"The basic configurations are included in this document. For more details about configs, review the ",(0,i.kt)("inlineCode",{parentName:"p"},"app.toml")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," files."),(0,i.kt)("h2",{id:"main-configuration-in-configtoml"},"Main configuration in config.toml"),(0,i.kt)("p",null,"Adjusting the ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," file of a node is an important step in optimizing its performance, security, and reliability.",(0,i.kt)("br",null),"\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," file contains low-level configuration settings for the Cosmos node software, such as network settings, database settings, logging settings, and security settings. These settings are generally used to customize the behavior of the underlying software and are not specific to the Cosmos blockchain.",(0,i.kt)("br",null),"\nThe various parts of the ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," configuration file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'proxy_app = "[PROTOCOL]://[HOST_ADDRESS]:[PORT]"\n')),(0,i.kt)("p",null,"ProxyApp is the TCP or UNIX socket address of the ABCI application, or the name of an ABCI application compiled in with the binary."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'moniker = "[A_CUSTOM_NAME]"\n')),(0,i.kt)("p",null,"Moniker is a custom human-readable name for this node. Make sure that the moniker is unique and descriptive."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'genesis_file = "[PATH_TO_GENESIS_FILE]"\n')),(0,i.kt)("p",null,"Path to the JSON file that contains the initial validator set and other metadata."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'priv_validator_key_file = "[PATH_TO_VALIDATOR_PRIVATE_KEY]"\n')),(0,i.kt)("p",null,"Path to the JSON file contains the private key of your validator, which is used to sign blocks and votes. Make sure that this file is stored securely and is not accessible to unauthorized users."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'[p2p]\nladdr = "tcp://[IP_ADDRESS]:[PORT]"\n')),(0,i.kt)("p",null,"laddr is the address to listen for incoming connections in the peer-to-peer network.",(0,i.kt)("br",null)),(0,i.kt)("p",null,"Additional parameters you may want to configure include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Making sure that the ",(0,i.kt)("inlineCode",{parentName:"li"},"external_address")," is reachable and coherent to your desired network topology to avoid DoS attacks"),(0,i.kt)("li",{parentName:"ul"},"Connection limits: The ",(0,i.kt)("inlineCode",{parentName:"li"},"max_open_connections")," setting in the ",(0,i.kt)("inlineCode",{parentName:"li"},"config.toml")," file of the sentry node can be used to limit the number of incoming connections. This can help prevent the node from being overloaded with connections and reduce the risk of a DoS attack. On the other hand, higher ",(0,i.kt)("inlineCode",{parentName:"li"},"max_open_connections")," can improve network connectivity."),(0,i.kt)("li",{parentName:"ul"},"Adjust the ",(0,i.kt)("inlineCode",{parentName:"li"},"timeout_commit setting"),": This setting determines how long your validator node will wait for other validators to commit a block before considering the block final. Adjusting this value can help optimize block confirmation times."),(0,i.kt)("li",{parentName:"ul"},"Review the ",(0,i.kt)("inlineCode",{parentName:"li"},"mempool_cache_size")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"max_txs_bytes")," settings: These settings determine the maximum size of the mempool cache and transactions, respectively. Make sure that these values are appropriate for your network's transaction volume."),(0,i.kt)("li",{parentName:"ul"},"Consider setting the ",(0,i.kt)("inlineCode",{parentName:"li"},"log_level")," setting to an appropriate value: This setting determines the level of logging output that your node will generate. Setting this to a lower level can help reduce disk space usage.")),(0,i.kt)("h2",{id:"cosmos-sdk-configuration-via-apptoml"},"Cosmos SDK configuration via app.toml"),(0,i.kt)("p",null,"The app.toml file, contains settings that are used to configure the behavior of the Cosmos SDK modules that the node runs, such as the staking module, governance module, and so on.",(0,i.kt)("br",null)),(0,i.kt)("p",null,"The various parts of the ",(0,i.kt)("inlineCode",{parentName:"p"},"app.toml")," configuration file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'[api]\naddress = "tcp://[HOST_NAME]:[PORT]"\n')),(0,i.kt)("p",null,"where address defines the API server to listen on."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'[grpc]\naddress = "tcp://[HOST_NAME]:[PORT]"\n')),(0,i.kt)("p",null,"where address defines the gRPC server address to bind to."),(0,i.kt)("p",null,"Please make sure you are fully aware of the changes you are applying. Depending on your needs, you may want to set up the following fields:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Consider setting the ",(0,i.kt)("inlineCode",{parentName:"li"},"fast_sync")," setting to ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),": This setting can help your node perform a fast initial sync of the blockchain."),(0,i.kt)("li",{parentName:"ul"},"Set up the ",(0,i.kt)("inlineCode",{parentName:"li"},"peer-gossip-timeout"),": This setting determines how long the node will wait for responses from other nodes on the network. If a node does not respond within this timeout period, it will be considered unreachable."),(0,i.kt)("li",{parentName:"ul"},"Configure the ",(0,i.kt)("inlineCode",{parentName:"li"},"index-events"),": This setting determines which events will be indexed by the node. By default, only a few key events are indexed, but it may be useful to index additional events depending on the needs of the network.")))}p.isMDXComponent=!0}}]);